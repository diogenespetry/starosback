import{y as v,r as l,b as f,d as b,e as t,f as s,k as u,u as g,I as x,m as r,l as n,q as y,N as m,a as V}from"./index-BgI7K-Vp.js";import{Q as _}from"./QSelect-Zjkj59qm.js";import{Q as h}from"./QForm-BB0dN-Hh.js";const k={class:"tw:container tw:mx-auto tw:py-[20px] tw:px-4 tw:sm:px-6 tw:lg:px-8"},C={class:"tw:flex tw:items-center tw:gap-4"},U={class:"tw:mt-4 tw:border tw:border-gray-200 tw:rounded-xl tw:px-4 tw:py-4 tw:dark:bg-[#1F2A37] tw:dark:border-0"},q={class:"row q-col-gutter-md tw:my-4"},N={class:"col-6"},Q={class:"col-6"},S={class:"row q-col-gutter-md tw:my-4"},E={class:"col-6"},R={class:"col-6"},z={class:"row justify-end q-gutter-sm q-mt-md"},F={__name:"CadastrarUsuario",setup(A){const p=v(),d=l(null),i=l(!1),o=l({name:"",email:"",senha:"",access_level:"USER"});async function c(){if(i.value)return;if(!await d.value.validate()){m.create({type:"negative",message:"Preencha os campos obrigatórios corretamente!",position:"top"});return}try{await V.post("usuarios",o.value),p.push("/usuarios")}catch(e){console.error("Erro ao criar usuário:",e),m.create({message:e?.response?.data?.message||"Não foi possível cadastrar o usuário",color:"negative",position:"top",timeout:4e3})}}return(w,e)=>(b(),f("div",null,[t("div",k,[t("div",C,[s(r,{flat:"",dense:"",color:"blue-6",to:"/usuarios"},{default:u(()=>[s(g(x),{icon:"tabler:chevron-left",class:"tw:text-3xl"})]),_:1}),e[4]||(e[4]=t("div",null,[t("p",{class:"q-mb-none tw:text-[30px] tw:font-bold"},"Novo Usuário"),t("p",{class:"q-mb-none tw:text-[16px] tw:leading-[24px]"},"Cadastre um novo usuário")],-1))]),t("div",U,[e[9]||(e[9]=t("p",{class:"q-mb-none tw:text-[20px] tw:font-bold tw:text-[#292a2e] tw:dark:text-[#bfc1c4]"}," Informações do Usuário ",-1)),s(h,{style:{margin:"12px 0"},onSubmit:y(c,["prevent"]),ref_key:"formRef",ref:d},{default:u(()=>[t("div",q,[t("div",N,[e[5]||(e[5]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Nome *",-1)),s(n,{modelValue:o.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.name=a),placeholder:"Digite o nome do usuário",outlined:"",dense:"",rules:[a=>!!a||"Campo obrigatório"],"hide-bottom-space":"","lazy-rules":"ondemand"},null,8,["modelValue","rules"])]),t("div",Q,[e[6]||(e[6]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Email *",-1)),s(n,{modelValue:o.value.email,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.email=a),placeholder:"email@example.com",outlined:"",dense:"",type:"email",rules:[a=>!!a||"Campo obrigatório"],"hide-bottom-space":"","lazy-rules":"ondemand"},null,8,["modelValue","rules"])])]),t("div",S,[t("div",E,[e[7]||(e[7]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Senha *",-1)),s(n,{modelValue:o.value.senha,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.senha=a),placeholder:"Digite a senha",type:"password",outlined:"",dense:"",rules:[a=>!!a||"Campo obrigatório",a=>a.length>=8||"A senha deve ter pelo menos 8 caracteres"],"hide-bottom-space":"","lazy-rules":"ondemand"},null,8,["modelValue","rules"])]),t("div",R,[e[8]||(e[8]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Nível de acesso",-1)),s(_,{modelValue:o.value.access_level,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.access_level=a),placeholder:"Selecione o nível de acesso",options:[{label:"Administrador",value:"ADM"},{label:"Usuário",value:"USER"}],"map-options":"","emit-value":"",outlined:"",dense:"",rules:[a=>!!a||"Campo obrigatório"],"hide-bottom-space":"","lazy-rules":"ondemand"},null,8,["modelValue","rules"])])]),t("div",z,[s(r,{label:"Cancelar",flat:"",to:"/usuarios"}),s(r,{label:"Cadastrar",color:"primary",type:"submit",outlined:"",loading:i.value,icon:"check"},null,8,["loading"])])]),_:1},512)])])]))}};export{F as default};
