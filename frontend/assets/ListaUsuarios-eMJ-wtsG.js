import{c as b,P as _,r as n,o as w,a as g,b as v,d as x,e as s,f as t,m,k as o,p as y,u as A,I as q,t as d,n as h,h as E}from"./index-BgI7K-Vp.js";import{Q as r,a as N}from"./QTable-DZi4_uj_.js";import"./QSelect-Zjkj59qm.js";const k={class:"tw:container tw:mx-auto tw:py-[20px] tw:px-4 tw:sm:px-6 tw:lg:px-8"},D={class:"tw:flex tw:items-center tw:justify-between"},C={class:"tw:my-4"},z={class:"q-mb-none"},B={class:"q-mb-none"},I={class:"q-mb-none"},j={__name:"ListaUsuarios",setup(Q){const p=b(()=>_.isActive),u=n([]),i=n(!1),f=n([{name:"Id",required:!0,label:"# ID",align:"left",field:e=>e.id},{name:"Nome",required:!0,label:"Nome",align:"left",field:e=>e.name},{name:"Email",required:!0,label:"E-mail",align:"left",field:e=>e.email},{name:"Acesso",required:!0,label:"Acesso",align:"left",field:e=>e.access_level},{name:"CriadoEm",required:!0,label:"Criado em",align:"left",field:e=>e.created_at},{name:"AtualizadoEm",required:!0,label:"Atualizado em",align:"left",field:e=>e.updated_at},{name:"Acoes",label:"",align:"left"}]);w(async()=>{try{i.value=!0;const e=await g.get("/usuarios");u.value=e.data}catch(e){console.error("Erro ao buscar usuários:",e)}finally{i.value=!1}});function c(e){return e?E(e).format("lll"):""}return(e,l)=>(x(),v("div",null,[s("div",k,[s("div",D,[l[0]||(l[0]=s("div",null,[s("p",{class:"q-mb-none tw:text-[30px] tw:font-bold"},"Usuários"),s("p",{class:"q-mb-none tw:text-[16px] tw:leading-[24px]"},"Gerencie todos os usuários")],-1)),t(m,{label:"Novo Usuário",color:"blue-6",to:"/usuarios/cadastrar"})]),s("div",C,[t(N,{bordered:"",flat:"",style:h([{"border-radius":"12px"},p.value?"border: none; background-color: #1F2A37":""]),rows:u.value,columns:f.value,loading:i.value,"binary-state-sort":"","no-data-label":"Nenhum usuário encontrado"},{"body-cell-Acesso":o(a=>[t(r,{props:a},{default:o(()=>[s("p",z,d(a.row.access_level==="ADM"?"Administrador":"Usuário"),1)]),_:2},1032,["props"])]),"body-cell-CriadoEm":o(a=>[t(r,{props:a},{default:o(()=>[s("p",B,d(c(a.row.created_at)),1)]),_:2},1032,["props"])]),"body-cell-AtualizadoEm":o(a=>[t(r,{props:a},{default:o(()=>[s("p",I,d(c(a.row.updated_at)),1)]),_:2},1032,["props"])]),"body-cell-Acoes":o(a=>[t(r,{props:a},{default:o(()=>[t(m,{flat:"",color:"primary",to:`/usuarios/${a.row.id}/editar`},{default:o(()=>[t(A(q),{icon:"hugeicons:license-draft",class:"q-mr-sm"}),l[1]||(l[1]=y(" Editar ",-1))]),_:1},8,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading","style"])])])]))}};export{j as default};
