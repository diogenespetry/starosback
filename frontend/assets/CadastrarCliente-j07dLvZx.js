import{y as f,r,b as x,d as v,e as t,f as a,k as m,u as g,I as y,m as n,l as s,q as b,N as u,a as V}from"./index-BkiFMBGU.js";import{Q as k}from"./QForm-QQlO4h6a.js";const _={class:"tw:container tw:mx-auto tw:py-[20px] tw:px-4 tw:sm:px-6 tw:lg:px-8"},C={class:"tw:flex tw:items-center tw:gap-4"},h={class:"tw:mt-4 tw:border tw:border-gray-200 tw:rounded-xl tw:px-4 tw:py-4 tw:dark:bg-[#1F2A37] tw:dark:border-0"},q={class:"row q-col-gutter-md tw:my-4"},N={class:"col-6"},z={class:"col-6"},I={class:"row q-col-gutter-md tw:my-4"},B={class:"col-12"},E={class:"row q-col-gutter=md tw:my-4"},Q={class:"col-12"},U={class:"row justify-end q-gutter-sm q-mt-md"},j={__name:"CadastrarCliente",setup(D){const c=f(),d=r(null),i=r(!1),l=r({nome:"",description:"",telefone:"",email:""});async function p(){if(i.value)return;if(!await d.value.validate()){u.create({type:"negative",message:"Preencha os campos obrigatórios corretamente!",position:"top"});return}try{await V.post("clientes",l.value),c.push("/clientes")}catch(e){console.error("Erro ao criar cliente:",e),u.create({message:"Não foi possível cadastrar o cliente",color:"negative",position:"top",timeout:4e3})}}return(w,e)=>(v(),x("div",null,[t("div",_,[t("div",C,[a(n,{flat:"",dense:"",color:"blue-6",to:"/clientes"},{default:m(()=>[a(g(y),{icon:"tabler:chevron-left",class:"tw:text-3xl"})]),_:1}),e[4]||(e[4]=t("div",null,[t("p",{class:"q-mb-none tw:text-[30px] tw:font-bold"},"Novo Cliente"),t("p",{class:"q-mb-none tw:text-[16px] tw:leading-[24px]"},"Cadastre um novo cliente")],-1))]),t("div",h,[e[9]||(e[9]=t("p",{class:"q-mb-none tw:text-[20px] tw:font-bold tw:text-[#292a2e] tw:dark:text-[#bfc1c4]"}," Informações do Cliente ",-1)),a(k,{style:{margin:"12px 0"},onSubmit:b(p,["prevent"]),ref_key:"formRef",ref:d},{default:m(()=>[t("div",q,[t("div",N,[e[5]||(e[5]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Nome *",-1)),a(s,{modelValue:l.value.nome,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.nome=o),placeholder:"Digite o nome do cliente",outlined:"",dense:"",rules:[o=>o.length>=3||"Nome deve ter pelo menos 3 caracteres"],"hide-bottom-space":"","lazy-rules":"ondemand"},null,8,["modelValue","rules"])]),t("div",z,[e[6]||(e[6]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Telefone",-1)),a(s,{modelValue:l.value.telefone,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.telefone=o),placeholder:"(00) 00000-0000",outlined:"",dense:"","hide-bottom-space":"",mask:"(##) #####-####","lazy-rules":"ondemand"},null,8,["modelValue"])])]),t("div",I,[t("div",B,[e[7]||(e[7]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Email",-1)),a(s,{modelValue:l.value.email,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.email=o),placeholder:"Digite o email",outlined:"",dense:"",rules:[o=>!o||/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(o)||"Email inválido"],"hide-bottom-space":"","lazy-rules":"ondemand"},null,8,["modelValue","rules"])])]),t("div",E,[t("div",Q,[e[8]||(e[8]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Descrição *",-1)),a(s,{"input-style":{resize:"none"},modelValue:l.value.description,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.description=o),placeholder:"Informe uma descrição...",dense:"",outlined:"",type:"textarea",color:"grey-5",rows:5,maxlength:2048,style:{margin:"8px 0",flex:"1",resize:"none"},"hide-bottom-space":"",rules:[o=>!!o||"Informe a descrição"],"lazy-rules":"ondemand"},null,8,["modelValue","rules"])])]),t("div",U,[a(n,{label:"Cancelar",flat:"",to:"/clientes"}),a(n,{label:"Cadastrar",color:"primary",type:"submit",outlined:"",loading:i.value,icon:"check"},null,8,["loading"])])]),_:1},512)])])]))}};export{j as default};
