import{z as x,y as g,r as n,o as y,N as r,a as p,b,d as V,e as t,f as a,k as w,u as _,I as k,m as d,l as i,q as h}from"./index-BkiFMBGU.js";import{Q as q}from"./QForm-QQlO4h6a.js";const E={class:"tw:container tw:mx-auto tw:py-[20px] tw:px-4 tw:sm:px-6 tw:lg:px-8"},N={class:"tw:flex tw:items-center tw:gap-4"},C={class:"tw:mt-4 tw:border tw:border-gray-200 tw:rounded-xl tw:px-4 tw:py-4"},I={class:"row q-col-gutter-md tw:my-4"},B={class:"col-6"},D={class:"col-6"},Q={class:"row q-col-gutter-md tw:my-4"},R={class:"col-12"},U={class:"row q-col-gutter=md tw:my-4"},z={class:"col-12"},$={class:"row justify-end q-gutter-sm q-mt-md"},F={__name:"EditarCliente",setup(M){const f=x(),u=g(),m=n(null),c=n(!1),l=n({nome:"",description:"",telefone:"",email:""});y(async()=>{try{const s=f.params.id;if(!s||isNaN(s)){r.create({type:"negative",message:"ID do cliente inválido!",position:"top"}),u.push("/clientes");return}const{data:e}=await p.get(`/clientes/${s}`);l.value=e}catch(s){console.error("Erro ao carregar cliente:",s)}});async function v(){if(c.value)return;if(!await m.value.validate()){r.create({type:"negative",message:"Preencha os campos obrigatórios corretamente!",position:"top"});return}try{await p.put(`/clientes/${l.value.id}`,l.value),u.push("/clientes")}catch(e){console.error("Erro ao editar cliente:",e),r.create({message:"Não foi possível editar o cliente",color:"negative",position:"top",timeout:4e3})}}return(s,e)=>(V(),b("div",null,[t("div",E,[t("div",N,[a(d,{flat:"",dense:"",color:"blue-6",to:"/clientes"},{default:w(()=>[a(_(k),{icon:"tabler:chevron-left",class:"tw:text-3xl"})]),_:1}),e[4]||(e[4]=t("div",null,[t("p",{class:"q-mb-none tw:text-[30px] tw:font-bold"},"Editar Cliente"),t("p",{class:"q-mb-none tw:text-[16px] tw:leading-[24px]"},"Edite as informações do cliente")],-1))]),t("div",C,[e[9]||(e[9]=t("p",{class:"q-mb-none tw:text-[20px] tw:font-bold tw:text-[#292a2e] tw:dark:text-[#bfc1c4]"}," Informações do Cliente ",-1)),a(q,{style:{margin:"12px 0"},onSubmit:h(v,["prevent"]),ref_key:"formRef",ref:m},{default:w(()=>[t("div",I,[t("div",B,[e[5]||(e[5]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Nome *",-1)),a(i,{modelValue:l.value.nome,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.nome=o),placeholder:"Digite o nome do cliente",outlined:"",dense:"",rules:[o=>!!o||"Campo obrigatório"],"hide-bottom-space":""},null,8,["modelValue","rules"])]),t("div",D,[e[6]||(e[6]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Telefone",-1)),a(i,{modelValue:l.value.telefone,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.telefone=o),placeholder:"(00) 00000-0000",outlined:"",dense:"","hide-bottom-space":"",mask:"(##) #####-####"},null,8,["modelValue"])])]),t("div",Q,[t("div",R,[e[7]||(e[7]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Email",-1)),a(i,{modelValue:l.value.email,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.email=o),placeholder:"Digite o email",outlined:"",dense:"",rules:[o=>!o||/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(o)||"Email inválido"],"hide-bottom-space":""},null,8,["modelValue","rules"])])]),t("div",U,[t("div",z,[e[8]||(e[8]=t("label",{class:"tw:text-gray-500 tw:dark:text-gray-200"},"Descrição *",-1)),a(i,{"input-style":{resize:"none"},modelValue:l.value.description,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.description=o),placeholder:"Informe uma descrição...",dense:"",outlined:"",type:"textarea",color:"grey-5",rows:5,maxlength:2048,style:{margin:"8px 0",flex:"1",resize:"none"},"hide-bottom-space":""},null,8,["modelValue"])])]),t("div",$,[a(d,{label:"Cancelar",flat:"",to:"/clientes"}),a(d,{label:"Salvar",color:"primary",type:"submit",outlined:"",loading:c.value,icon:"check"},null,8,["loading"])])]),_:1},512)])])]))}};export{F as default};
